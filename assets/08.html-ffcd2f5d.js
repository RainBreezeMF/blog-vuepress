import{_ as s}from"./plugin-vue_export-helper-c27b6911.js";import{r,o as a,c as i,a as t,e as l,b as e,d as o}from"./app-96fdec8f.js";const p={},c=t("h1",{id:"前言",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#前言","aria-hidden":"true"},"#"),e(" 前言")],-1),h=t("p",null,"说起网站使用的人机验证（尤其是国外网站），大多数人第一反应是Google的 reCaptcha，或者 hCaptcha 之类的。除此之外其实还有个来自 Cloudflare 的 Turnstile",-1),_=t("h2",{id:"_1-google-recaptcha",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#_1-google-recaptcha","aria-hidden":"true"},"#"),e(" 1. Google reCaptcha")],-1),d={href:"https://imgse.com/i/pCt0zCQ",target:"_blank",rel:"noopener noreferrer"},u=t("img",{src:"https://s1.ax1x.com/2023/06/24/pCt0zCQ.png",alt:"pCt0zCQ.png",tabindex:"0",loading:"lazy"},null,-1),g=t("figcaption",null,"pCt0zCQ.png",-1),m=t("p",null,"reCaptcha 发展多年，而一直困扰用户的便是它的图形验证码。虽然reCaptcha在中国大陆网络下的调用没什么问题，但关于其图形验证的“阴间”也在民间被拉出来“批判”了不知道多少次。",-1),C={href:"https://imgse.com/i/pCt0jUS",target:"_blank",rel:"noopener noreferrer"},f=t("img",{src:"https://s1.ax1x.com/2023/06/24/pCt0jUS.png",alt:"pCt0jUS.png",loading:"lazy"},null,-1),b=t("br",null,null,-1),x={href:"https://imgse.com/i/pCt0XE8",target:"_blank",rel:"noopener noreferrer"},B=t("img",{src:"https://s1.ax1x.com/2023/06/24/pCt0XE8.png",alt:"pCt0XE8.png",loading:"lazy"},null,-1),k=t("p",null,"虽说它的难度是可以进行调节的（上为我自己站点的数据），但毕竟在多数人看来，验证肯定是便捷和验证目的双得最好，即使用者能尽量无感通过人机验证，同时尽可能减少机器人的影响。",-1),z=t("br",null,null,-1),v=t("br",null,null,-1),T={href:"https://imgse.com/i/pCt0v4g",target:"_blank",rel:"noopener noreferrer"},y=t("img",{src:"https://s1.ax1x.com/2023/06/24/pCt0v4g.png",alt:"pCt0v4g.png",loading:"lazy"},null,-1),E=t("br",null,null,-1),V={href:"https://imgse.com/i/pCt0LHf",target:"_blank",rel:"noopener noreferrer"},U=t("img",{src:"https://s1.ax1x.com/2023/06/24/pCt0LHf.png",alt:"pCt0LHf.png",loading:"lazy"},null,-1),q=t("p",null,"实际上，如果在V3的 reCaptcha 验证机制下，这东西并不会打扰用户。因为其机制是评分，只需要管理员在后台查看分析状况即可。",-1),S=t("p",null,[e("那你可能会说，我直接用 V3 的不就完了？"),t("br"),e(" 答：插件不支持。"),t("br"),e(" 使用 fof/recaptcha 插件，这是往论坛里加入 reCaptcha 时多数站长的流程，但它只支持 V2 的验证方式，也就是复选框/徽章的方式。如果想用 V3 的话得脱开这个插件，按照 Google 给的文档自己去配置了，尤其对于小白并不算多友好。")],-1),j=t("h2",{id:"_2-hcaptcha",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#_2-hcaptcha","aria-hidden":"true"},"#"),e(" 2. hCaptcha")],-1),L={href:"https://imgse.com/i/pCtBEUU",target:"_blank",rel:"noopener noreferrer"},F=t("img",{src:"https://s1.ax1x.com/2023/06/24/pCtBEUU.png",alt:"pCtBEUU.png",tabindex:"0",loading:"lazy"},null,-1),N=t("figcaption",null,"pCtBEUU.png",-1),P=o('<p>hCaptcha 与 reCaptcha一样是有图形验证码和徽章两种模式，虽然对于 reCaptcha 来说难度配置和弹出验证的判断阈值可调节性比起 reCaptcha V2 要更细，但问题也有：卡顿 。 <strong>（这个可能很少见）</strong></p><p>不知道是不是我这网络问题，从我自己的使用来看，有些时候要么点击验证框按钮后一直转圈很长时间出不来，要么反复2-4轮才给通过。</p><h2 id="_3-turnstile" tabindex="-1"><a class="header-anchor" href="#_3-turnstile" aria-hidden="true">#</a> 3. Turnstile</h2><p>TurnStile 是 Cloudflare 在2022年9月宣布的项目，其宣传的就是去掉人工验证来完成人机交互验证。</p><p>由于Cloudflare服务在国内网络环境下（多数时候，没被污染的情况下）畅通，因此turnstile一样不需要担心网络环境造成的卡顿问题。<br> 从使用而言，除非被疑似为问题流量，不然点一次一般3秒内便显示通过。</p><p>turnstile在 flarum 插件下的可配置场景有注册、登录、和忘记密码。</p><hr><p>怎么说呢，我个人还是倾向于 turnstile 的场景方案。前两者在账号方面仅在注册时加以验证，而配置Turnstile下已经做到基本无感验证的登录<s>起码心理作用上</s>比起前两者可能更好些。</p><p>Turnstile是一个新的人机验证“品牌”，比起已经发展了十余年的 reCaptcha、hCaptcha 来说比较短，自然也有对此能力不信任的空间。</p><p>这里我放个意见：倘若不是体量足够大，或者容易招来机器人的内容的论坛站，这几家其实都不错。至于选择谁，取决于你的偏好和长期运行中的稳定以及用户交互友好程度等等了。</p><h1 id="turnstile-配置教程" tabindex="-1"><a class="header-anchor" href="#turnstile-配置教程" aria-hidden="true">#</a> Turnstile 配置教程</h1><h2 id="获取-turnstile-站点密钥" tabindex="-1"><a class="header-anchor" href="#获取-turnstile-站点密钥" aria-hidden="true">#</a> 获取 Turnstile 站点密钥</h2>',12),Q={href:"https://dash.cloudflare.com/?to=/:account/turnstile",target:"_blank",rel:"noopener noreferrer"},A=t("br",null,null,-1),D=t("br",null,null,-1),G={href:"https://imgse.com/i/pCtB9vn",target:"_blank",rel:"noopener noreferrer"},H=t("img",{src:"https://s1.ax1x.com/2023/06/24/pCtB9vn.png",alt:"pCtB9vn.png",loading:"lazy"},null,-1),I=t("li",null,[t("p",null,"Turnstile 信息配置")],-1),X=t("p",null,[t("strong",null,"“站点名称”"),e("：这里仅相当于“备注”，随便填。"),t("br"),t("strong",null,"“域”"),e("：这里填写你要添加 Turnstile 的网站的域名（不用加http(s)），如果域名已在 CloudFlare 托管，可直接点击输入框右侧下拉箭头选择你的域名；若不是，则手动填入域名，并在完成后点击弹出的带有“（自定义域）“选项”。"),t("br"),t("strong",null,"“小组件模式”"),e("：这里提供三种验证模式，其中："),t("br"),e(" “托管”模式下会根据判断选择是否要求用户进行点击交互操作；“非交互式”模式下则自动进行验证；“不可见”模式下用户则完全不可见验证部件。")],-1),w={href:"https://imgse.com/i/pCtBPuq",target:"_blank",rel:"noopener noreferrer"},J=t("img",{src:"https://s1.ax1x.com/2023/06/24/pCtBPuq.png",alt:"pCtBPuq.png",tabindex:"0",loading:"lazy"},null,-1),K=t("figcaption",null,"pCtBPuq.png",-1),M=t("br",null,null,-1),O={href:"https://imgse.com/i/pCtBiD0",target:"_blank",rel:"noopener noreferrer"},R=t("img",{src:"https://s1.ax1x.com/2023/06/24/pCtBiD0.png",alt:"pCtBiD0.png",loading:"lazy"},null,-1),W=t("h2",{id:"插件配置",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#插件配置","aria-hidden":"true"},"#"),e(" 插件配置")],-1),Y=o(`<p>在服务器的站点目录内，通过Composer输入以下命令安装 Turnstile 插件：</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code>composer <span class="token keyword">require</span> blomstra<span class="token operator">/</span>turnstile<span class="token punctuation">:</span><span class="token string double-quoted-string">&quot;*&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,2),Z={href:"https://imgse.com/i/pCtBS3j",target:"_blank",rel:"noopener noreferrer"},$=t("img",{src:"https://s1.ax1x.com/2023/06/24/pCtBS3j.png",alt:"pCtBS3j.png",loading:"lazy"},null,-1),tt=t("br",null,null,-1),et={href:"https://imgse.com/i/pCtBpgs",target:"_blank",rel:"noopener noreferrer"},nt=t("img",{src:"https://s1.ax1x.com/2023/06/24/pCtBpgs.png",alt:"pCtBpgs.png",loading:"lazy"},null,-1),lt=t("br",null,null,-1),ot=t("br",null,null,-1),st=t("p",null,"配置完成后点击保存即可。",-1),rt={href:"https://imgse.com/i/pCtBFbV",target:"_blank",rel:"noopener noreferrer"},at=t("img",{src:"https://s1.ax1x.com/2023/06/24/pCtBFbV.png",alt:"pCtBFbV.png",loading:"lazy"},null,-1),it=t("br",null,null,-1),pt={href:"https://imgse.com/i/pCtBAET",target:"_blank",rel:"noopener noreferrer"},ct=t("img",{src:"https://s1.ax1x.com/2023/06/24/pCtBAET.png",alt:"pCtBAET.png",loading:"lazy"},null,-1);function ht(_t,dt){const n=r("ExternalLinkIcon");return a(),i("div",null,[c,h,_,t("figure",null,[t("a",d,[u,l(n)]),g]),m,t("p",null,[t("a",C,[f,l(n)]),b,t("a",x,[B,l(n)])]),k,t("p",null,[e('注意，上述针对的实际上是 reCaptcha V2 的"复选框"验证模式，这也是相对更常用的模式。你也可以选择隐形徽章。（徽章模式虽然没选择框但徽章还挺大的说）'),z,e(' （放在插件里就是"Checkbox"和"Invisible"的选择了，但是在 reCaptcha 设置时就得选好是复选框还是徽章（创建后验证方式不可更改），对应功能的密钥对应在插件中的选项否则会报错）'),v,t("a",T,[y,l(n)]),E,t("a",V,[U,l(n)])]),q,S,j,t("figure",null,[t("a",L,[F,l(n)]),N]),P,t("ol",null,[t("li",null,[t("p",null,[e("前往 Cloudflare 相应页面："),t("a",Q,[e("跳转"),l(n)]),A,e(" 如果没有 Cloudflare 账号，跟随注册流程注册即可")])]),t("li",null,[t("p",null,[e("来到 Turnstile 界面，选择“添加站点”"),D,t("a",G,[H,l(n)])])]),I]),X,t("figure",null,[t("a",w,[J,l(n)]),K]),t("p",null,[e("设置好以后点击“创建”。随后弹出以下页面，上面的两串密钥在论坛插件设置内会用到，请妥善保存。"),M,t("a",O,[R,l(n)])]),W,t("ol",null,[t("li",null,[Y,t("p",null,[e("安装完成后，在论坛后台启用该插件："),t("a",Z,[$,l(n)])])]),t("li",null,[t("p",null,[e("在插件设置页填写两组密钥（上面步骤中获得）"),tt,t("a",et,[nt,l(n)]),lt,e(" “站点公钥”：对应上述密钥中的“站点密钥”。"),ot,e(" “私钥”：对应上述密钥中的“密钥”。")])])]),st,t("p",null,[t("a",rt,[at,l(n)]),it,t("a",pt,[ct,l(n)])])])}const mt=s(p,[["render",ht],["__file","08.html.vue"]]);export{mt as default};
